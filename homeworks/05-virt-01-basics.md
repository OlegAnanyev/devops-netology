# Задача 1
Вначале я бы хотел описать своё видение того, как в принципе вижу принятие решения о выборе платформы для развёртывания того или иного сервера либо приложения. На мой взгляд в большинстве случаев «золотой серединой» является использование полноценной аппаратной виртуализации – это даёт нам все преимущества по изоляции, администрированию, удобной репликации и миграции виртуальных машин, оптимизации использования ресурсов физического оборудования. Отдельный физический сервер я бы предпочёл в наиболее требовательных к производительности сценариях, либо при необходимости использования специфических устройств, которые затруднительно «пробросить» в виртуальную машину. К примеру, на моей практике возникала необходимость организовать сервер для музыкального вещания с физическим подключением к звуковой карте и на тот момент не было способов сделать это на базе HyperV (возможно сейчас ситуация изменилась). Что касается докер-контейнеров, то пока у меня нет глубокого понимания этой технологии, но мне представляется это удобным сценарием использования для разного рода микросервисов, либо отдельных легковесных приложений. Также докер будет предпочтителен для короткоживущих сервисов и в сценариях, где нужно разворачивать множество экземпляров приложения. Ещё раз вкратце мой подход:

* **физический сервер** для самых нагруженных и критичных к производительности сценариев, специфического аппратного обеспечения
* **докер** для микросервисов, лёгких приложений, приложений во множестве экземпляров
* **виртуальные машины** для всего остального

Теперь к ответам:

* Высоконагруженный централизованный кластер Oracle, содержащий базы данных для всей организации – **физический сервер**.

* Сервер для нагрузочного тестирования – **виртуальная машина**.

* Билд агент Jenkins – **докер**.

* Продуктивный сервер системы риск мониторинга карточного процессинга с высокими требованиями к ОЗУ и ресурсам процессора – **физический сервер**.

* Продуктивная база Postgre SQL – **виртуальная машина**.

* Дев сервер для tomcat java web приложения – **виртуальная машина**.

* Продуктивная система управления артефактами Nexus / Artifactory, задействованная в процессе CI/CD – **виртуальная машина**.

* Веб сервер для статического веб сайта - html / css – **докер**.


# Задача 2
На мой взгляд сценарий миграции инфраструктуры с физических серверов на виртуальные будет схож и для случая Hyper-v/VMWare на локальном гипервизоре (или нескольких), и для облачных виртуалок AWS ЕС2 / Azure virtual machines.
1.	Создать виртуальные машины для каждого физического сервера, учесть аппаратные требования, обеспечить запас по производительности.
2.	Установить ОС нужных версий на виртуалки, обновить ОС.
3.	Установить на виртуалки требуемое ПО (СУБД, прикладное ПО с нужными библиотеками).
4.	Сконфигурировать сеть на виртуалках, настроить имена хостов и IP-адреса так, чтобы серверы корректно взаимодействовали друг с другом и с внешними узлами (вероятно потребуется настроить файрвол для входящих/исходящих соединений, пробросить порты на NAT).
5.	Перенести на виртуальные серверы данные с физических (базы данных, конфиги, профили пользователей).
6.	Запустить всю конфигурацию в виртуальной среде, убедиться, что серверы корректно взаимодействуют друг с другом и с внешними ресурсами.
7.	Изменить на рабочих станциях, иных серверах и оборудовании адреса всех серверов на развёрнутые в виртуальной среде.
8.	Протестировать всё в боевом режиме.
9.	Отключить физические серверы.

Такой сценарий с установкой и конфигурацией серверов «с нуля» мне кажется предпочтительным в большинстве случаев, когда настройки и конфиги серверов полностью понятны либо чётко документированы, однако в некоторых случаях можно воспользоваться инструментами для непосредственной конвертации физических машин в виртуальные, например VMware vCenter Converter или Disk2VHD. В этом случае необходимо будет только позаботиться только о сетевой доступности всех сервисов и приложений.
